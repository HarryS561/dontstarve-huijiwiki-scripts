"use strict";(function(J){"use strict";let H=!1,j=!1;const D=[];let M=!1;const P=[],x=[];let A;const r={SessionHasExtension:!1,FollowedApps:new Set,IgnoredApps:new Set,OwnedApps:new Set,FamilySharedApps:new Set,WishedApps:new Set,OwnedPackages:new Set,OnExtensionUserdataLoaded:e=>{if(M){e();return}P.push(e)},EnhanceLazyLoadedApps:e=>{const t=e.querySelectorAll(".app");for(const o of t){const n=+o.dataset.appid;r.FollowedApps.has(n)&&o.classList.add("followed"),r.WishedApps.has(n)&&o.classList.add("wished"),r.OwnedApps.has(n)?o.classList.add("owned"):r.FamilySharedApps.has(n)&&o.classList.add("infamily"),r.IgnoredApps.has(n)&&o.classList.add("ignored")}r.BindHover(e)},EnhanceLazyLoadedPackages:e=>{const t=e.querySelectorAll(".package");for(const o of t){const n=+o.dataset.subid;r.OwnedPackages.has(n)&&o.classList.add("owned")}},BindHover:e=>{},HideHoverIfAny:()=>{},Alert:(e,t=null)=>{const o=document.createElement("toast-notification");return t!==null&&(o.toastTitle=t),o.toastBody=e,document.getElementById("js-notifications")?.append(o),o},Storage:{Get(e){try{return window.localStorage.getItem(e)}catch{return null}},Set(e,t){try{window.localStorage.setItem(e,t)}catch{}},Remove(e){try{window.localStorage.removeItem(e)}catch{}}},LazyLoad(e,t){A||(A=new window.IntersectionObserver(o=>{o.forEach(n=>{n.isIntersecting&&(A.unobserve(n.target),n.target.dispatchEvent(new Event("lazyload")))})},{rootMargin:"200px 0px 200px 0px"})),A.observe(e),e.addEventListener("lazyload",t,{once:!0})},ImageError(e){e.complete&&e.naturalWidth===0?e.src="/static/img/applogo.svg":e.addEventListener("error",function(){this.src="/static/img/applogo.svg"},{once:!0})},RequirePageScreenshotViewer(e,t=!1){if(t===!0){for(let o=0;o<x.length;o++)x[o](e);x.length=0,r.RequirePageScreenshotViewer=o=>o(e)}else x.push(e)},RequireHighstock(e){if(window.Highcharts){R(),e();return}if(D.push(e),H)return;H=!0;const t=document.createElement("script");t.nonce=document.querySelector("script[nonce]").nonce,t.src="/static/js/vendor/highstock.js?v=ec10f3c6a7cfe2a3",t.integrity="sha384-7BDzxqfP4qOlpTs5r1WdXx31tgCi/KEGWM9DRN1YBFwuMXAuruXYk7pqZpEOxnzL",t.async=!0,t.addEventListener("load",function(){R();for(const o of D)o();D.length=0,H=!1}),document.head.appendChild(t)}};try{r.SessionHasExtension=!!window.sessionStorage.getItem("extension_user")}catch{}const z=e=>{const t=typeof $=="function"&&typeof $.fn=="object"&&typeof $.fn.dataTable=="function";let o=t?[]:document.querySelectorAll(".app"),n=t?[]:document.querySelectorAll(".package");t&&$($.fn.dataTable.tables()).each(function(){const i=$(this).DataTable().table();o=Array.from(i.rows(".app").nodes()),n=Array.from(i.rows(".package").nodes())});const p=[],h=[];for(const i of o){const a=+i.dataset.appid,c=p[a];c?c.push(i):p[a]=[i]}o=null;for(const i of n){const a=+i.dataset.subid,c=h[a];c?c.push(i):h[a]=[i]}if(n=null,e.rgFollowedApps){r.FollowedApps=new Set(e.rgFollowedApps);for(const i of e.rgFollowedApps){const a=p[i];if(a)for(const c of a)c.classList.add("followed")}}if(e.rgWishlist){r.WishedApps=new Set(e.rgWishlist);for(const i of e.rgWishlist){const a=p[i];if(a)for(const c of a)c.classList.add("wished")}}if(e.rgAppsInCart)for(const i of e.rgAppsInCart){const a=p[i];if(a)for(const c of a)c.classList.add("cart")}if(e.rgOwnedApps){r.OwnedApps=new Set(e.rgOwnedApps);for(const i of e.rgOwnedApps){const a=p[i];if(a)for(const c of a)c.classList.add("owned")}}if(e.rgFamilySharedApps){r.FamilySharedApps=new Set(e.rgFamilySharedApps);for(const i of e.rgFamilySharedApps){const a=p[i];if(a)for(const c of a)c.classList.contains("owned")||c.classList.add("infamily")}}if(e.rgIgnoredApps)for(const i of Object.keys(e.rgIgnoredApps)){const a=+i;r.IgnoredApps.add(a);const c=p[a];if(c)for(const v of c)v.classList.add("ignored")}if(e.rgOwnedPackages&&(r.OwnedPackages=new Set(e.rgOwnedPackages)),r.OwnedPackages.add(0),h.length>0){if(e.rgPackagesInCart)for(const i of e.rgPackagesInCart){const a=h[i];if(a)for(const c of a)c.classList.add("cart")}if(e.rgOwnedPackages)for(const i of e.rgOwnedPackages){const a=h[i];if(a)for(const c of a)c.classList.add("owned")}}M=!0;for(const i of P)i();P.length=0},N=!!document.querySelector(".header-user-avatar"),R=()=>{if(j)return;j=!0,window.Highcharts.wrap(window.Highcharts.seriesTypes.flags.prototype,"translate",function(o){if(o.apply(this,...arguments),!this.options.onSeries)return;const n=this.chart.get(this.options.onSeries);!n||!n.points||!n.currentDataGrouping||this.points.forEach(p=>{const h=n.points.find(a=>a.x>p.x);if(!h)return;const i=n.points[h.index>0?h.index-1:0];p.plotX=i.plotX,p.plotY=i.plotY})});const e=1.25,t=N?["copyChartToClipboard","downloadPNG","downloadCSV","downloadXLS"]:["copyChartToClipboard","downloadPNG","steamdbLogin"];window.Highcharts.setOptions({accessibility:{enabled:!1},lang:{locale:"en-GB"},chart:{animation:!1,zooming:{type:"x",mouseWheel:{enabled:!1}},backgroundColor:"transparent",spacing:[5,0,15,0],style:{fontSize:"16px",fontFamily:"inherit"}},title:{style:{color:"var(--body-color)"}},yAxis:{gridLineColor:"rgba(180, 180, 180, 0.2)",labels:{style:{color:"var(--muted-color)"}}},xAxis:{lineColor:"var(--border-color)",tickColor:"var(--border-color)",crosshair:{width:30,color:"rgba(180, 180, 180, 0.2)"},labels:{style:{color:"var(--body-color)"}}},legend:{itemHoverStyle:{color:"var(--link-color)"},itemHiddenStyle:{color:"var(--border-color)"},itemStyle:{color:"var(--body-color)",fontSize:"16px",fontWeight:"400"}},plotOptions:{series:{animation:!1,dataGrouping:{enabled:!1},states:{hover:{lineWidthPlus:0}}}},credits:{text:"data by SteamDB.info (powered by highcharts.com)",position:{x:0,y:-3},style:{fontSize:"12px",color:"var(--muted-color)"}},exporting:{sourceWidth:1200/e,sourceHeight:600/e,scale:e,local:!0,fallbackToExportServer:!1,buttons:{contextButton:{symbol:"url(/static/img/download.svg)",symbolSize:24,symbolX:26,symbolY:25,x:0,y:5,menuItems:t,theme:{fill:"none",states:{hover:{fill:"var(--border-color-2)"},select:{fill:"var(--border-color)"}}}}},menuItemDefinitions:{steamdbLogin:{text:"Login for CSV export"},copyChartToClipboard:{text:"Copy PNG to clipboard",onclick(){const o=this,n="image/png";function p(){return new Promise(h=>{const i=window.Highcharts.Exporting.svgToDataURL(o.exporting.getSVGForExport(o.exporting.options)),a=new Image;a.crossOrigin="anonymous",a.src=i,a.addEventListener("load",()=>{const c=document.createElement("canvas"),v=c.getContext("2d");c.height=a.height*e,c.width=a.width*e,v.drawImage(a,0,0,c.width,c.height),c.toBlob(F=>{h(F)},n)})})}navigator.clipboard.write([new ClipboardItem({[n]:p()})]).then(()=>{const h=r.Alert("The chart png is now in your clipboard.");setTimeout(()=>{h.close()},3e3)}).catch(h=>{console.error(h),r.Alert(`Failed to copy: ${h}`)})}}},chartOptions:{chart:{backgroundColor:"var(--border-color-2)",spacing:[20,20,10,20],style:{fontFamily:"Inter, sans-serif"}},title:{text:"Data by SteamDB",style:{color:"var(--contrast-color)"}},rangeSelector:{enabled:!1},navigator:{enabled:!1},credits:{enabled:!1}}},navigation:{menuStyle:{borderRadius:"6px",borderColor:"var(--border-color)",background:"var(--tooltip-bg)",boxShadow:"-8px -8px 24px rgba(149, 157, 165, 0.2)"},menuItemStyle:{color:"var(--body-bg-color)",transition:"none",fontSize:"14px"}},rangeSelector:{inputEnabled:!1,labelStyle:{color:"var(--body-color)"},buttonTheme:{width:"auto",height:24,paddingLeft:10,paddingRight:10,fill:"none",r:6,stroke:"var(--border-color)","stroke-width":"1px",style:{color:"var(--link-color)",fontSize:"16px",fontWeight:"bold"},states:{hover:{fill:"var(--border-color)",style:{color:"var(--link-color-hover)"}},select:{fill:"var(--border-color)",style:{color:"var(--body-color)"}},disabled:{"stroke-width":0,style:{color:"var(--border-color)"}}}}},navigator:{handles:{backgroundColor:"var(--border-color-2)",borderColor:"var(--link-color)"},xAxis:{gridLineColor:"var(--border-color)",labels:{style:{color:"var(--muted-color)",opacity:1}}},series:{lineWidth:2},outlineColor:"var(--border-color)"},tooltip:{useHTML:!0,shared:!0,split:!1,shadow:!1,borderWidth:0,borderRadius:6,headerFormat:"{ucfirst point.key} UTC<br/>",backgroundColor:"var(--tooltip-bg)",style:{fontSize:"14px",color:"var(--body-bg-color)"}}})},O=(e,t,o)=>{document.querySelectorAll(e).forEach(n=>{o?n.classList.add(t):n.classList.remove(t)})},y=(e,t,o)=>O(`.app[data-appid="${e}"]`,t,o),E=(e,t,o)=>O(`.package[data-subid="${e}"]`,t,o),G=(e,t,o)=>O(`.bundle[data-bundleid="${e}"]`,t,o),V=e=>{if(!(!e.response||!e.response.success)){if(e.request.appid>0){const t=e.request.appid;switch(e.request.contentScriptQuery){case"StoreWishlistAdd":r.WishedApps.add(t),y(t,"wished",!0);break;case"StoreWishlistRemove":r.WishedApps.delete(t),y(t,"wished",!1);break;case"StoreFollow":r.FollowedApps.add(t),y(t,"followed",!0);break;case"StoreUnfollow":r.FollowedApps.delete(t),y(t,"followed",!1);break;case"StoreIgnore":r.IgnoredApps.add(t),y(t,"ignored",!0);break;case"StoreUnignore":r.IgnoredApps.delete(t),y(t,"ignored",!1);break;case"Watch":y(t,"watched",!0);break;case"Unwatch":y(t,"watched",!1);break}}else if(e.request.subid>0){const t=e.request.subid;switch(e.request.contentScriptQuery){case"StoreAddToCart":E(t,"cart",!0);break;case"StoreAddFreeLicense":E(t,"owned",!0);break;case"Watch":E(t,"watched",!0);break;case"Unwatch":E(t,"watched",!1);break}}else if(e.request.bundleid>0){const t=e.request.bundleid;switch(e.request.contentScriptQuery){case"Watch":G(t,"watched",!0);break;case"Unwatch":G(t,"watched",!1);break}}}};if("BroadcastChannel"in window){let e=null;try{e=new BroadcastChannel("steamdb-extension"),e.addEventListener("message",t=>{t&&t.data&&t.data.type==="steamdb:extension-response"&&V(t.data)})}catch{}window.addEventListener("message",t=>{if(!(!t||!t.data)&&t.origin===window.location.origin)if(t.data.type==="steamdb:extension-loaded"){const{data:o}=t.data;document.readyState!=="loading"?z(o):document.addEventListener("readystatechange",()=>{z(o)},{once:!0})}else if(t.data.type==="steamdb:extension-init"){document.querySelectorAll(".js-extension-tip").forEach(n=>{n.hidden=!0}),"OnExtensionInit"in r&&r.OnExtensionInit(t.data.data);try{window.sessionStorage.setItem("extension_user","1"),r.SessionHasExtension=!0}catch{}}else if(t.data.type==="steamdb:extension-error"){try{if(window.sessionStorage.getItem("extension_error_hidden")&&location.pathname!=="/freepackages/")return}catch{}const o=r.Alert(t.data.error,"Extension error");if(navigator.userAgent.includes(" Firefox/")){const p=document.createElement("a");p.href="https://github.com/SteamDatabase/BrowserExtension/issues/56#issuecomment-2740141287",p.textContent="If you use Firefox containers it is not compatible with it, click to read more.";const h=document.createElement("div");h.classList="toast-body",h.append(p),o.append(h)}const n=document.createElement("a");n.className="btn btn-sm btn-primary",n.href="https://store.steampowered.com/login/",n.textContent="Sign in on the Steam Store",o.append(n),o.addEventListener("toast-close",()=>{try{window.sessionStorage.setItem("extension_error_hidden","1")}catch{}})}else t.data.type==="steamdb:extension-response"&&(e!==null&&e.postMessage(t.data),V(t.data),(!t.data.response||!t.data.response.success)&&!location.pathname.startsWith("/freepackages/")&&(r.Alert(`Something went wrong.
`+(t.data.response&&t.data.response.error||"Unknown error. Are you logged in on the Steam store?"),"Extension error"),console.error(t.data.response)))})}const Z=e=>{const t=[];if(e.forEach((o,n)=>{const p=n.toLowerCase();(p.startsWith("__cf_chl_")||p==="ref"||p==="fbclid"||p.startsWith("utm_"))&&t.push(n)}),t.length>0){for(const o of t)e.delete(o);window.history.replaceState(null,null,Array.from(e).length?`${location.pathname}?${e}`:location.pathname)}},X=document.querySelector(".header"),b=document.querySelector(".header-menu-container"),L=document.querySelector("#js-header-hamburger"),k=e=>{document.querySelector(".body-wrap").inert=e},C=()=>{X.classList.remove("header-search-focus"),k(!1)};L.addEventListener("click",function(){b.hidden=!b.hidden,b.hidden||(C(),b.querySelector(".header-menu").focus(),r.HideHoverIfAny()),k(!b.hidden)}),b.addEventListener("click",function(e){e.target instanceof Element&&e.target.className===b.className&&(b.hidden=!0,k(!1))});const I=document.getElementById("js-header-form"),S=I.querySelector(".field");document.addEventListener("keydown",e=>{if(e.key==="Escape"){if(document.documentElement.classList.contains("js-screenshots-shown"))return;b.hidden?C():(b.hidden=!0,L.focus(),k(!1))}e.ctrlKey||e.metaKey||!(e.target instanceof Element)||["INPUT","TEXTAREA","SELECT","BUTTON"].includes(e.target.tagName)&&e.target!==L||(e.code==="Slash"||e.code==="KeyS"||e.key==="/"||e.key==="s"?(e.preventDefault(),S.focus()):(e.code==="KeyM"||e.key==="m")&&(e.preventDefault(),L.click()))});function ee(){this.src="/static/img/applogo.svg"}if(I){I.addEventListener("submit",function(l){const d=S.value.replace(/^\s+|\s+$/g,"");let s=d.match(/^([0-9]{1,7})$/);if(s!==null){window.location.href=`/app/${s[0]}/${W()}`,l.preventDefault();return}if(s=d.match(/(76561[0-9]{12})/),s!==null){window.location.href=`/calculator/${s[1]}/`,l.preventDefault();return}if(s=d.match(/(?:id|profiles?)\/([\d\w-]+)/),s!==null){window.location.href=`/calculator/?player=${s[1]}`,l.preventDefault();return}s=d.match(/(app|sub|bundle|depot|dlc|patchnotes|build)\/\s*([0-9]{1,8})/),s!==null&&(s[1]==="dlc"?s[1]="app":s[1]==="build"&&(s[1]="patchnotes"),window.location.href=`/${s[1]}/${s[2]}/`,l.preventDefault())},!1);const e=document.getElementById("js-search-suggestions"),t=document.getElementById("js-search-tips"),o=new Map;let n=0,p=0,h=0,i="",a;const c=t.dataset.a,v=`https://${c}-dsn.algolia.net`,F={Accept:"application/json","x-algolia-application-id":c,"x-algolia-api-key":t.dataset.k},W=()=>{if(location.pathname==="/charts/")return"charts/";if(location.pathname.startsWith("/patchnotes/"))return"patchnotes/";const l=location.pathname.match(/\/app\/[0-9]+\/(?<page>\w+)/);return l?`${l.groups.page}/`:""},U=()=>{n=0;const d={hitsPerPage:Math.min(20,Math.floor((document.documentElement.clientHeight-130)/55)),attributesToSnippet:null,attributesToHighlight:["name"],attributesToRetrieve:["type","id","small_capsule"],query:i};a&&a.abort(),a=new AbortController,fetch(`${v}/1/indexes/all_names/query?x-algolia-agent=Algolia%20for%20JavaScript%20(SteamDB)`,{method:"POST",body:JSON.stringify(d),signal:a.signal,headers:F}).then(s=>s.json()).then(s=>{o.set(d.query,s),a=null,K(s)}).catch(console.error)},K=l=>{const d=document.body.dataset.storeAssets;let s=-1,g=e.querySelector(".focus");if(g&&(s=+g.dataset.appid),t.hidden=!0,e.replaceChildren(),r.HideHoverIfAny(),!l.hits){const u=document.createElement("span");l.message?u.textContent=`Algolia error: ${l.message}`:u.textContent="No results found.",e.appendChild(u);return}const te=W();l.hits=l.hits.sort((u,m)=>(m.type==="app"?1:0)-(u.type==="app"?1:0));for(const u of l.hits){const m=document.createElement("a");m.classList.add("app");let w="/static/img/applogo.svg",T=!0,_=u.type;switch(u.type){case"app":{const f=u.id;m.dataset.appid=f.toString(),m.href=`/app/${f}/${te}`,r.OwnedApps.has(f)?m.classList.add("owned"):r.FamilySharedApps.has(f)?m.classList.add("infamily"):r.WishedApps.has(f)?m.classList.add("wished"):r.FollowedApps.has(f)&&m.classList.add("followed"),s===f&&(s=-1,m.classList.add("focus")),u.small_capsule?w=`${d}apps/${f}/${u.small_capsule}/capsule_231x87.jpg`:w=`${d}apps/${f}/capsule_231x87.jpg`;break}case"sub":{const f=u.id;m.href=`/sub/${f}/`,r.OwnedPackages.has(f)&&m.classList.add("owned"),u.small_capsule?w=`${d}subs/${f}/${u.small_capsule}`:w=`${d}subs/${f}/capsule_231x87.jpg`;break}case"bundle":{const f=u.id;m.href=`/bundle/${f}/`,u.small_capsule&&(w=`${d}bundles/${f}/${u.small_capsule}/capsule_231x87.jpg`);break}case"developer":case"publisher":case"franchise":{m.href=`/${u.type}/${u.id}/`,w=`${d}${u.small_capsule}`,T=!1;break}case"tag":{m.href=`/tag/${u.id}/`,T=!1,w=null;break}case"tech":{m.href=`/tech/${u.id}/`,_=u.id.substring(0,u.id.indexOf("/")),T=!1,w=null;break}default:continue}if(w){const f=document.createElement("img");f.addEventListener("error",ee,{once:!0}),f.alt="",f.src=w,m.append(f)}const q=document.createElement("span");if(q.className="search-name",q.innerHTML=u._highlightResult.name.value,m.append(q),u.type!=="app"){const f=document.createElement("span");f.className="muted",f.textContent=`${_[0].toUpperCase()}${_.substring(1)}${T?` ${u.id}`:""}`,m.append(f)}e.appendChild(m)}s>-1&&(g=e.firstElementChild,g&&g.classList.add("focus")),r.BindHover(e)};S.addEventListener("keydown",function(l){if(l.key==="ArrowUp"||l.key==="ArrowDown"){l.preventDefault();const d=e.querySelector(".focus");let s;l.key==="ArrowUp"?(d&&(s=d.previousElementSibling),s||(s=e.lastElementChild)):(d&&(s=d.nextElementSibling),s||(s=e.firstElementChild)),s instanceof Element&&(d&&d.classList.remove("focus"),s.classList.add("focus"))}else if(l.key==="Enter"){if(l.ctrlKey){const s=new URLSearchParams;s.append("query",i),window.location.href=`/instantsearch/?${s.toString()}`,l.preventDefault();return}const d=e.querySelector(".focus");if(d)d.click(),l.preventDefault();else{const s=W();if(s.length>0){const g=document.createElement("input");g.type="hidden",g.name="app_tab",g.value=s.substring(0,s.length-1),I.append(g)}}}else l.key==="Escape"&&S.blur()}),S.addEventListener("input",function(){const l=this.value;if(!l||l.length>200){e.replaceChildren(),clearTimeout(n),n=0,a&&a.abort(),i="",t.hidden=!1,r.HideHoverIfAny();return}if(i===l)return;i=l;const d=o.get(i);if(d){clearTimeout(n),n=0,K(d);return}const s=Date.now(),g=N?200:300;if(n){s-h>=600?(clearTimeout(n),U()):s-p<g&&(clearTimeout(n),p=s,n=setTimeout(U,g));return}p=s,h=s,n=setTimeout(U,g)}),document.querySelector(".header-search-close").addEventListener("click",C),document.querySelector(".header-search-side-close").addEventListener("click",C);let Y=!1;const Q=()=>{if(!Y){Y=!0;const l=document.createElement("link");l.rel="preconnect",l.href=v,document.head.append(l);const d=document.querySelectorAll(".header-search-popular img"),s=document.body.dataset.storeAssets;d.forEach(g=>{g.src=`${s}apps/${g.dataset.c}`})}X.classList.add("header-search-focus"),b.hidden=!0,k(!0),r.HideHoverIfAny()};let B=!1;document.querySelector(".header-search-mobile").addEventListener("click",l=>{l.preventDefault(),Q(),B=!0,S.focus()}),S.addEventListener("focus",()=>{if(B){B=!1;return}window.requestAnimationFrame(Q)})}if(window.location.hostname==="steamdb.info"){const e=new URLSearchParams(location.search);Z(e)}"serviceWorker"in navigator&&navigator.serviceWorker.register("/service-worker.js",{scope:"/"}).catch(e=>{console.error(e)}),J.SteamDB=r})(typeof exports<"u"?exports:window);
